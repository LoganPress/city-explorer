<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Industry Standards Process Book</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<link rel="stylesheet" href="brian.css" />
	</head>

	<body>
		<h1>Process Book Milestone I</h1>
		<div id="matt">
			<h2>Basic Info</h2>
			<p>
				Team Name: The Industry Standards <br />
				Group members: Brian Hall, Logan Press, Matt
				Halom<br />
				Student IDs: 455024, 457670, 457234
			</p>
			<h2>Overview and Motivation</h2>
			<p>
				Our primary motivation for this project is
				to gain a more comprehensive
				understanding of the city of St. Louis to complement our
				topical impressions. We can accomplish this
				by analyzing concrete metrics related to
				several aspects of the city
				<a href="#data">(see data)</a>
				to create an interactive tool to explore St.
				Louis. This tool also serves to compare our
				subjective understandings of the city with
				objective measures. As of Milestone I, our fundamental
				visualization segments the distinct
				neighborhoods of St. Louis using a
				topographical map view. In the final implementation of
				the project, users can view the values of a selected metric 
				across all neighborhoods in the map view, and the parallel 
				plot displays the values of all metrics for each neighborhood.
				Users can click on a neighborhood's area in the map view
				to highlight the corresponding line in the parallel plot, and several
				neighborhoods can be selected at once to be able to easily compare
				different neighbhorhoods.
			</p>
			<h2>Related Work:</h2>
			<p>
				Our desire to allow users to interactively explore a city was heavily inspired
				by the New York City project shown in lecture (which we can't find now). Studio 9 inspired us to use Leaflet, because we were really 
				interested in using its ability to overlay geoJSON data. We were
				also inspired to convery our data (at least partially) as a choropleth
				map by the tile map from assigment 2.
			</p>

			<h2>Questions</h2>
			<p></p>
			<p>
				Our objective is to create a highly
				interactive and engaging
				<i>exploratory</i> visualization for St.
				Louis which answers these questions for the
				user:
			</p>
			<ul>
				<li>
					What is the value of each metric in a given neighborhood?
				</li>
				<li>
					Which neighborhoods have the highest values for a given metric?
				</li>
				<li>
					How do the values of all metrics or a specific metric for one neighborhood compare to those of other neighborhoods?
				</li>
				<li>
					For users that are familiar with St. Louis and its neighborhoods,
					how do the visualizations and available metrics either reinforce
					or contradict one's preconceived notions of different areas of St. Louis?
				</li>
					

			</ul>

			<h2 id="data">Data</h2>
			<p>
				Our dataset consists of two data structures:
				a
				<a
					href="https://washuvis.github.io/cityliving/data/Neighborhood_Boundaries.json"
					>file </a
				>with geoJSON data that allows us to overlay
				neighborhood boundaries, and another JSON
				<a
					href="https://washuvis.github.io/cityliving/data/Neighborhood_Stats.json"
					>file
				</a>
				data that contains population, walk score,
				bike score, transit score, and ZHVI (<a
					href="https://www.zillow.com/research/zhvi-methodology-2019-highlights-26221/"
				>
					Zillow Home Value Index</a
				>) for each neighborhood.
			</p>
			<div id="schema">
				<ol>
					<li>
						City-Scoped Data -
						<ol>
							<li>
								<a
									href="https://www.metrostlouis.org/developer-resources"
									>Metro Data / Maps</a
								>
							</li>
						</ol>
					</li>
					<li>
						Neighborhood-Scoped Data -
						<ol>
							<li>
								<a
									href="https://www.census.gov/data/developers/data-sets/popest-popproj/popest.html"
									>Population</a
								>
							</li>
							<li>
								Mobility:
								<ul>
									<li>
										<a
											href="https://www.walkscore.com/professional/api.php"
											>Walkability/Bikeability
											and Public
											Transit</a
										>
									</li>
								</ul>
							</li>
							<li>
								Economy:
								<ul>
									<li>
										<a
											href="https://www.zillow.com/research/data/"
											>Housing Data</a
										>
									</li>
								</ul>
							</li>
						</ol>
					</li>
				</ol>
			</div>

			<h2>Exploratory Data Analysis</h2>
			<p>
				Our dataset consists of information from
				many different sources that we pieced
				together ourselves. Rather than finding a
				dataset and exploring it to see how it could
				be represented, we had design ideas in mind
				and created our dataset so that we could
				execute those ideas. As a result, we didn't
				find it necessary to explore our data
				visually. We became familiar with it just by
				the nature of how we collected and
				synthesized it.<br /><br />
				That said, we did gain some insights while
				brainstorming how we would represent the
				data on the website for users to see. We
				initially discussed some designs to view the
				data for a single neighborhood (which can be
				seen in Iteration III of Design Evolution),
				and we quickly discovered that our data
				wasn't particularly well-suited for this.
				Instead we settled on displaying a single
				metric at a time for each neighborhood (at
				least for Milestone 1).
			</p>

			<h2>Design Evolution</h2>
			<div>
				<h4>Iteration I -</h4>
				<div id="iteration1-text">
					<p>
						Our initial visualization ideas
						centered around mapping the metro
						lines, as seen in the top two
						sketches below. The idea was that we
						could display a granular view of St.
						Louis's population distribution to
						visualize mobility with respect to
						how certain areas are
						disproprtionately served by the
						metro system. The first idea was to
						use markers with tool-tips to
						display population along with other
						data for each neighborhood. We then
						decided on visually encoding
						population like in a choropleth map
						as seen on the right. The main
						problem with these designs is that
						they focus too heavily on mobility
						and don't incorporate economic or
						environmental factors. To
						incorporate environmental data, we
						thought of including a bar graph
						indicating average temperature for
						each month. For economic data, we
						designed a focus view of the map
						with markers representing local
						businesses that the user can scroll
						over or click on to see more
						information. You can see how all
						these ideas were better fleshed out
						and synthesized under Iteration II.
					</p>
				</div>
				<div id="iteration1-container">
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/mapmarkers.png"
						class="iteration1"
					/>
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/mapcircles.png"
						class="iteration1"
					/>
					<br />
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/climate.png"
						class="iteration1"
					/>
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/business.jpeg"
						class="iteration1"
					/><br />
					<br />
				</div>
				<h4>Iteration II -</h4>
				<div id="iteration2-text">
					<p>
						For the project proposal, We
						incorporated the "filters" which
						adopt different lenses through which
						users may view the data. The filters
						are each of our target categories:
						Mobility, Economy, and Environment.
						These filters allow us to create
						different choropleth maps for each
						target. When a user hovers over a
						neighborhood, they see a tooltip
						with a breakdown of the
						neighborhood's information. Clicking
						on a neighborhood in one of these
						views expands the neighborhood
						visualization for the selection with
						the corresponding filter. For
						example, if the economy filter is
						selected, the neighborhood view
						shows markers for local businesses
						at their locations. Clicking on one
						of these markers opens another
						tooltip which provides information
						about the business itself.
					</p>
				</div>
				<div id="iteration2-container">
					<h3 class="center22">
						<strong>City Views:</strong>
					</h3>
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/mobility_city.png"
						class="iteration2"
					/>
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/economy_city.png"
						class="iteration2"
					/>
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/environment_city.png"
						class="iteration2"
					/>
					<br />
					<h3 class="center22">
						<strong>Neighborhood Views:</strong>
					</h3>
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/mobility_neighborhood.png"
						class="iteration2"
					/>
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/economy_neighborhood.png"
						class="iteration2"
					/>
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/environment_neighborhood.png"
						class="iteration2"
					/>
					<br />
					<br />
				</div>
				<h4 id="iteration3-header">Iteration III -</h4>
				<div id="iteration3-text">
					<p>
						This iteration incorported the choropleth map we designed as an overlay on a Leaflet map of the city. 
						First, we obtained a zip folder from the City of St. Louis website with a shapefile and auxiliary info 
						for the St. Louis City neighborhoods. We plugged it into the ogr2ogr web client using the correct 
						target coordinate system and obtained the GeoJSON file we used for the overlay.
						For the data, we decided that instead of each overall "category," (mobility, economy, environment), 
						we would include every individual metric as an 
						option to filter, which may better answer the user's questions in case they are trying to 
						compare neighborhoods by a specific measure. We gathered St. Louis Metro data, and after a lot of 
						working with QGIS and trying to get the correct geoJSON format, we were unable to get the routes to overlay on 
						the city properly. Because environmental data is only gathered 
						by city and not by neighborhood (and most historical weather data you have to pay for), we 
						decided against including climate, air quality, and precipitation data on a per-neighborhood 
						basis. When the user hovers over a neighborhood in the choropleth map, a tooltip appears displaying the 
						name of the neighborhood and the value of whichever metric is currently selected by the user. 
						For the single-neighborhood visualization, we attempted redrawing the geoJSON feature for 
						the selected neighborhood, but after many attempts we didn't get it working for this iteration. We 
						began a class for this visualization with the defined methods, and currently, whenever a neighborhood 
						is clicked, the text of its name is displayed below the city visualization. We attempted to use a radar 
						graph for comparing the neighborhood's attributes, but the library we were using was deprecated, and after 
						doing some of our own research we realized that the radar graph is criticized by visualization 
						experts. Instead, we looked at other types of plots such as parallel plots or normalized bar 
						charts. All in all, we gathered nearly all the data we need; we are just missing some local businesses 
						(Matt's domain) and zillow data for a few neighborhoods (Brian was able to get data for most of the 
						neighborhoods).
					</p>
				</div>
				<div id="iteration3-container">
					<br>
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/CWE.png"
						class="iteration3"
					/>
					<br />
					<br />
					<i> <strong>This is a zoomed in view of the Central West End Population data. the Central West End is the most populous neighborhood in St. Louis, so we have used it in this process book as our quintessential example. </strong></i>
					<br>
					<br>
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/CWEPopulation.png"
						class="iteration3"
					/>
					<br>
					<i> <strong>This is a zoomed in view of the Central West End Home Index data. Similarly, this information describes the average price of a home in the Central West End</strong></i>
					<br />
					<br />
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/CWEwalkscore.png"
						class="iteration3"
					/>
					
					<br>
					<i> <strong>Same Idea. Utilization of WalkScore API</strong></i>
					<br />
					<br />
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/FullView.png"
						class="iteration3"
					/>
					<br>
					<i> <strong>This is a full screen view of the entire Map. The Opacity for each neighborhood represents the magnitude of the metric at hand. In this case(purple), represents population density</strong></i>
					<br /><br/>
					<img
						src="https://washuvis.github.io/cityliving/EvaluationCzar/images/Radius-graph.png"
						class="iteration3"
					/>
					
					<br>
					<i> <strong>A sketch of a possbile radar graph for our neighborhood metrics, which we discarded.</strong></i>
					<br>
					<br/>
					<img
						src="images/parallel-plot.png"
						class="iteration3"
					/>
					<br>
					<i> <strong>A sketch of a possible parallel plot for the different neighborhood metrics.</strong></i>
					<br />
					<br>
					<img
						src="images/bar-plot-categories.png"
						class="iteration3"
					/>
					<br>
					<br>
					<i> <strong>A sketch of a potential bar plot for the different neighborhood metrics.</strong></i>
					<br />
					
				</div>
				<h4 id="iteration4-header">Iteration IV -</h4>
				<div id="iteration4-text">
					<p>
						For this iteration, we added two new views to the website, based on our reflection on the last milestone. 
						One of these is the neighborhood histogram - this graph creates bins based on whichever category is 
						selected by the user, and plots how many neighborhoods have a value within each of those bins. When the 
						category is changed, a transition is triggered as the bars change to reflect the category. The second 
						visualization is a parallel plot, similar to the one diagrammed in Iteration III. This parallel plot has 
						a series for each neighborhood, and there is one axis for each category. When a user selects a 
						neighborhood in the map, the name of the neighborhood appears above the parallel plot, and the line 
						corresponding to the selected neighborhood becomes highlighted in red. When this occurs, all other lines 
						become more transparent.
					</p>
					<p>
						In addition to these two visualizations, we polished the original map. We removed the original opacity 
						scale in favor of a new color scale. Along with this new scale we added a legend that runs vertically 
						along the length of the map, and changes for each different category based on user selection. Finally, 
						for neighborhoods for which we didn't have data for a certain category, we ommitted those from the range 
						of values when calculating the scales, as well as from the shading in the choropleth map. When the user 
						hovers over such neighborhoods, they now see a value of "Data unavailable" in the tooltip. The remaining 
						work between this iteration and the final deliverable we believe will be mostly polish and making sure 
						the visualization effectively answers the users' questions. Hopefully in this time, we will do plenty of 
						field testing and iterative adjustments.
					</p>
				</div>
				<div id="iteration4-container">
					<h3>Neighborhood Visualizations:</h3><br>
					<img src="images/iteration4-population.png" class="iteration4" />
					<img src="images/iteration4-walkscore.png" class="iteration4" />
					<img src="images/iteration4-economy.png" class="iteration4" /><br>
					<h3>Parallel Plot:</h3><br>
					<img src="images/iteration4-parallel-unselected.png" class="iteration4" />
					<img src="images/iteration4-parallel-selected.png" class="iteration4" />
				</div>
			</div>

			<h2>Evaluation:</h2>
			<p><strong>Q:</strong> What did you learn about the data by
			using your visualizations? How did you
			answer your questions?</p>
			<p><strong>A:</strong> We learned that the "better" scores aren't always around the populated areas. We figured that 
				we may have seen a stronger correlation, given our intuition about certain metrics scaling as population grows (see: 
				Scale by Geoffrey West), but the individual St. Louis neighborhoods tell a more complex story. One of the starkest 
				metrics to look at is the Home Value Estimate. There is a noticeable contrast between the north and south halves of 
				St. Louis, and that isn't just due to the missing data. The estimates in the northernmost neighborhoods are 
				significantly lower than their southern counterparts. The particular neighborhoods with missing home estimate values even
				reinforce this observation in a way; most of them are located north of Delmar Blvd., and we couldn't find home value estimates
				because homes just aren't being sold in those neighborhoods. This visualization really highlights the notion of the 
				"Delmar divide" and the economic disparities in the region. It's also clear through looking at the transit score 
				that the metro runs through the middle of the city east-west.
			</p>
			<p><strong>Q:</strong> How well does your visualization work,
			and how could you further improve it?
			</p>
			<p><strong>A:</strong> The visualization does a really good job at giving a high-level view of the city with regards 
			to quick, easy metrics. While this makes it easy for the user to gauge the area, it can also be a weakness because the 
			metrics are not comprehensive. They doesn't give the user an in-depth understanding of the city's dynamics, but to do 
			that is a tall order. I think the distributions of the neighborhoods with respect to each category is also very clear; 
			both the histogram and the parallel plot make the distributions easily understood.</p>

			<h2>Implementation:</h2>
			
			<p><strong>Q:</strong> Describe the intent and functionality of
				the interactive visualizations you
				implemented.
			</p>

			<p><strong>A:</strong> The intent is to provide a space for the user to explore different
				metrics related to the city on a neighborhood-level granularity, which can answer 
				questions about the city's livability and workability with regards to these metrics. 
				The choropleth map provides a visual breakdown of different scores and their gradient 
				from one geographical area to the next; so, a user could see geographic clusters and 
				patterns where nearby neighborhoods are similar or different. The histogram also shows 
				the distribution of neighborhoods in general, so a user could potentially see how one 
				neighborhood stacks up to the others. When a user is interested in a particular 
				neighborhood, they can see all the metrics of the neighborhood at once on the parallel 
				plot, and conclude whether it is similar or different than the rest.
			</p>

				
			<p><strong>Q:</strong> Provide clear and well-referenced images
				showing the critical design and
				interaction elements.
			</p>
			<p><strong>A:</strong> These are provided in the <a href="#iteration3-header">Iteration III</a> and <a href="#iteration4-header">Iteration IV</a> sections.
			</p>
				

			<h2>Project Timeline</h2>
			<table>
				<thead>
					<tr>
						<td class="logan">Dates</td>
						<td class="logan">Objectives</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Nov 23rd - Milestone I</td>
						<td>
							Initial Prototype Complete &amp;
							Data Wrangling Complete.
						</td>
					</tr>
					<tr>
						<td>Dec 7th - Milestone II</td>
						<td>
							Fully Functioning Prototype is
							launched to the web.
						</td>
					</tr>
					<tr>
						<td>
							Dec 14th - Last week of classes
						</td>
						<td>
							Presentation Done, Finalized
							Exploratory Visualization
							Prototype Complete.
						</td>
					</tr>
					<tr>
						<td>
							Jan 6th - Project Done and
							Hosted on the web.
						</td>
						<td>
							Project complete, sharing it
							with the world! Consider adding
							more cities to the tool.
						</td>
					</tr>
				</tbody>
			</table>
			<h4>Meetings and Workflow</h4>
			<ul>
				<li>
					Weekly Meeting on Saturday at 10:00 am
					CST; during this time we check in and
					implement our visualization as a group
				</li>
				<li>
					Continue working most of Saturday
					afternoon, and Sunday if needed. And
					likely also Monday.
				</li>
				<li>
					Evaluate weekly meeting schedule once
					Logan goes home (Pacific Time)
				</li>
				<li>
					Communication via Slack, iMessage, and
					Zoom. Brian doesn't have a Mac.
				</li>
				<li>
					Maintain appropriate moral and
					<a href="/EvaluationCzar/ProcessBook.html#">
						Industry Standards.
					</a>
				</li>
			</ul>
		</div>
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	</body>
</html>
